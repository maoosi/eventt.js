/*!
* eventt.js 1.1.0 - Tiny event listeners manager.
*
* @author       maoosi <hello@sylvainsimao.fr>
* @homepage     https://github.com/maoosi/eventt.js#readme
* @copyright    Copyright (c) 2017 maoosi <hello@sylvainsimao.fr>
* @license      MIT
* @version      1.1.0
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Eventt=t()}(this,function(){"use strict";!function(){"function"!=typeof Object.assign&&(Object.assign=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){function n(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),o=r.length>>>0;if(0===o)return!1;for(var i=0|t,u=Math.max(i>=0?i:o-Math.abs(i),0);u<o;){if(n(r[u],e))return!0;u++}return!1}}),Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,n;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),o=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),n=0;n<o;){var i;n in r&&(i=r[n],e.call(t,i,n,r)),n++}})}();var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,r),this.options={intercept:e.intercept||!1,debug:e.debug||!1},this.debug=this.options.debug,this.events=[],this.options.intercept&&this._interceptNative(),this}return n(r,[{key:"listen",value:function(t,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(void 0!==t&&void 0!==n&&"function"==typeof r){var u=this._toArray(t),f=this._toArray(n),a=null;"boolean"==typeof i?a={capture:i}:"object"===("undefined"==typeof i?"undefined":e(i))&&(a=i),f.forEach(function(e){var t="string"==typeof e?o._objToArray(document.querySelectorAll(e)):o._toArray(e);t.forEach(function(e){u.forEach(function(t){var n={targetElem:e,eventType:t,func:r,opts:a};o._addEvent(n),o.events.push(n),o._debug("info","Add eventListener "+t+" on "+o._whichElement(e)+".")})})})}else this._debug("error","Wrong parameters for the `listen()` method.");return this}},{key:"unlisten",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(void 0!==e){var o=this._toArray(e),i=this._toArray(n),u=[];this.events.forEach(function(e){var n=t._isTarget(e.targetElem,i),f=t._isType(e.eventType,o),a=null===r||null!==e.opts&&void 0!=e.opts.uid&&e.opts.uid===r;n&&f&&a&&(u.push(e),t._removeEvent(e),t._debug("info","Remove eventListener "+e.eventType+" on "+t._whichElement(e.targetElem)+"."))}),this.events=this.events.filter(function(e){return!u.includes(e)})}else this._debug("error","Wrong parameters for the `unlisten()` method.");return this}},{key:"trigger",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(void 0!==e&&void 0!==n){var o=this._toArray(e),i=this._toArray(n);this.events.forEach(function(e){var n=t._isTarget(e.targetElem,i),u=t._isType(e.eventType,o),f=null===r||null!==e.opts&&void 0!=e.opts.uid&&e.opts.uid===r;n&&u&&f&&(t._triggerEvent(e),t._debug("info","Trigger eventListener "+e.eventType+" on "+t._whichElement(e.targetElem)+"."))})}else this._debug("error","Wrong parameters for the `trigger()` method.");return this}},{key:"list",value:function(e,t){var n=this;if(void 0!==e&&void 0!==t){var r=this._toArray(e),o=[];this.events.forEach(function(e){var t=n._isTarget(e.targetElem,r);t&&(o.push(e),n._debug("info","List eventListener "+e.eventType+" on "+n._whichElement(e.targetElem)+"."))}),t.call(this,o)}else this._debug("error","Wrong parameters for the `get()` method.");return this}},{key:"_interceptNative",value:function(){var e=this,t=function(t,n,r,o){e._debug("info","Native addEventListener "+n+" intercepted on "+e._whichElement(t)+"."),e.listen(n,t,r,o)},n=function(t,n){e._debug("info","Native removeEventListener "+n+" intercepted on "+e._whichElement(t)+"."),e.unlisten(n,t)};if("undefined"!=typeof Element){var r=Element.prototype.addEventListener;Element.prototype.addEventListener=function(e,n,o){"undefined"!=typeof o&&"undefined"!=typeof o.eventt?r.call(this,e,n,o):t(this,e,n,o)};var o=Element.prototype.removeEventListener;Element.prototype.removeEventListener=function(e,t,r){"undefined"!=typeof r&&"undefined"!=typeof r.eventt?o.call(this,e,t,r):n(this,e)}}if("undefined"!=typeof Window){var i=Window.prototype.addEventListener;Window.prototype.addEventListener=function(e,n,r){"undefined"!=typeof r&&"undefined"!=typeof r.eventt?i.call(this,e,n,r):t(this,e,n,r)};var u=Window.prototype.removeEventListener;Window.prototype.removeEventListener=function(e,t,r){"undefined"!=typeof r&&"undefined"!=typeof r.eventt?u.call(this,e,t,r):n(this,e)}}if("undefined"!=typeof Document){var f=Document.prototype.addEventListener;Document.prototype.addEventListener=function(e,n,r){"undefined"!=typeof r&&"undefined"!=typeof r.eventt?f.call(this,e,n,r):t(this,e,n,r)};var a=Document.prototype.removeEventListener;Document.prototype.removeEventListener=function(e,t,r){"undefined"!=typeof r&&"undefined"!=typeof r.eventt?a.call(this,e,t,r):n(this,e)}}}},{key:"_addEvent",value:function(e){e.targetElem.addEventListener(e.eventType,e.func,this._transformOptions(e.opts))}},{key:"_removeEvent",value:function(e){e.targetElem.removeEventListener(e.eventType,e.func,this._transformOptions(e.opts))}},{key:"_transformOptions",value:function(e){var t="boolean"==typeof e?{capture:e}:e||{};return Object.assign({eventt:!0},t)}},{key:"_whichElement",value:function(e){return"undefined"!=typeof e.outerHTML?e.outerHTML:String(e)}},{key:"_triggerEvent",value:function(e){e.func.call(this)}},{key:"_isTarget",value:function(e,t){var n=this;if("*"===t[0])return!0;var r=!1;return t.forEach(function(t){var o="string"==typeof t?n._objToArray(document.querySelectorAll(t)):n._toArray(t);o.forEach(function(t){t===e&&(r=!0)})}),r}},{key:"_isType",value:function(e,t){return"*"===t[0]||t.includes(e)}},{key:"_toArray",value:function(e){return Array.isArray(e)?e:[e]}},{key:"_objToArray",value:function(e){return Object.keys(e).map(function(t){return e[t]})}},{key:"_debug",value:function(e,t){this.debug&&console.debug("> Eventt.js | "+e+" :: "+t)}}]),r}(),o=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new(Function.prototype.bind.apply(r,[null].concat(t)))};return o});
//# sourceMappingURL=eventt.js.map
